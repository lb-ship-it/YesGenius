<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>YES Genius | Professional Excuse Generator</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            /* SVƒöTL√ù RE≈ΩIM */
            --bg-gradient: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            --glass: rgba(255, 255, 255, 0.9);
            --glass-border: rgba(255, 255, 255, 0.8);
            --text: #1f2937;
            --input-bg: #ffffff;
            --input-border: #e5e7eb;
            --primary: #8b5cf6;
            --accent: #10b981;
            --shadow: rgba(0, 0, 0, 0.1);
        }

        /* TMAV√ù RE≈ΩIM (V√Ωchoz√≠ dle p≈ô√°n√≠) */
        body.dark-mode {
            --bg-gradient: linear-gradient(135deg, #111827 0%, #1e1b4b 100%);
            --glass: rgba(30, 41, 59, 0.85);
            --glass-border: rgba(255, 255, 255, 0.1);
            --text: #f3f4f6;
            --input-bg: rgba(15, 23, 42, 0.6);
            --input-border: rgba(255, 255, 255, 0.1);
            --shadow: rgba(0, 0, 0, 0.4);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; transition: background 0.3s ease, color 0.3s ease; }
        
        body {
            font-family: 'Outfit', sans-serif;
            background: var(--bg-gradient);
            background-attachment: fixed;
            margin: 0;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 1rem;
            color: var(--text);
        }

        .glass-panel {
            background: var(--glass);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            padding: 1.8rem;
            width: 100%;
            max-width: 500px;
            box-shadow: 0 25px 50px -12px var(--shadow);
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
            position: relative;
        }

        /* HLAVIƒåKA */
        .header-row { display: flex; align-items: center; justify-content: space-between; margin-bottom: 5px; }
        .header-left { display: flex; align-items: center; gap: 15px; }
        
        .logo { width: 60px; height: auto; filter: drop-shadow(0 4px 4px rgba(0,0,0,0.2)); cursor: pointer; }
        .header-text { display: flex; flex-direction: column; justify-content: center; text-align: left; }
        .app-title { margin: 0; font-weight: 800; font-size: 1.4rem; line-height: 1.2; background: linear-gradient(90deg, var(--primary), var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .subtitle-main { font-size: 0.8rem; font-weight: 600; opacity: 0.9; margin: 2px 0 0 0; }
        .subtitle-sec { font-size: 0.7rem; opacity: 0.7; margin: 0; }

        /* TLAƒå√çTKO P≈òEP√çN√ÅN√ç RE≈ΩIMU */
        .theme-toggle {
            background: none; border: none; cursor: pointer; font-size: 1.5rem;
            padding: 5px; border-radius: 50%; display: flex; align-items: center; justify-content: center;
            color: var(--text); opacity: 0.8;
        }
        .theme-toggle:hover { opacity: 1; background: rgba(255,255,255,0.1); }

        label { font-weight: 700; font-size: 0.75rem; margin-left: 0.5rem; opacity: 0.8; margin-bottom: 0.2rem; display: block; text-transform: uppercase; letter-spacing: 0.5px; }
        
        /* INPUTY A SELECTY */
        select, input {
            width: 100%; padding: 0.9rem; border-radius: 12px;
            border: 1px solid var(--input-border);
            background: var(--input-bg);
            font-size: 1rem; color: var(--text);
            outline: none; appearance: none; font-family: inherit;
        }
        
        /* Barvy mo≈ænost√≠ v roletk√°ch */
        datalist option, select option { background-color: #ffffff; color: #000; }
        body.dark-mode select option { background-color: #1f2937; color: #fff; }

        /* TLAƒå√çTKA */
        .btn-main {
            background: linear-gradient(90deg, #7c3aed, #8b5cf6);
            color: white; font-weight: 800; border: none; padding: 1.1rem;
            border-radius: 14px; cursor: pointer; font-size: 1.1rem; width: 100%;
            box-shadow: 0 10px 20px -5px rgba(124, 58, 237, 0.4);
            margin-top: 0.8rem; text-transform: uppercase; letter-spacing: 1px;
        }
        .btn-main:active { transform: scale(0.98); }
        
        .btn-vip {
            background: #10b981; color: white; font-weight: 700; border: none;
            padding: 0.9rem; border-radius: 12px; cursor: pointer; font-size: 0.95rem;
            width: 100%; margin-top: 0.5rem; display: flex; justify-content: center; align-items: center; gap: 8px;
        }

        /* V√ùSLEDEK */
        #vysledek { margin-top: 1rem; display: none; }
        .result-card {
            background: var(--input-bg);
            padding: 1rem; border-radius: 10px; margin-bottom: 0.6rem;
            border-left: 4px solid var(--primary);
            font-weight: 500; font-size: 0.95rem; line-height: 1.5;
            box-shadow: 0 2px 4px var(--shadow);
        }
        
        .loader { border: 3px solid rgba(255,255,255,0.3); border-radius: 50%; border-top: 3px solid white; width: 22px; height: 22px; animation: spin 0.8s linear infinite; display: none; margin: 0 auto; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="dark-mode"> 

<div class="glass-panel">
    <div class="header-row">
        <div class="header-left">
            <img src="logo.png" alt="Logo" class="logo" onclick="location.reload()">
            <div class="header-text">
                <h1 class="app-title">YES Genius</h1>
                <p class="subtitle-main" id="sub1">Profesion√°ln√≠ gener√°tor omluv</p>
                <p class="subtitle-sec" id="sub2">Tv≈Øj rychl√Ω r√°dce v kapse!</p>
            </div>
        </div>
        <button class="theme-toggle" onclick="toggleTheme()" id="theme-btn">‚òÄÔ∏è</button>
    </div>

    <select id="language-select" onchange="changeLanguage()" style="margin-bottom: 0.5rem; font-weight: bold; padding: 0.7rem;"></select>

    <div>
        <label id="lbl-rec">üë§ Komu?</label>
        <input list="recipients-list" id="recipient" placeholder="..." onchange="updateSuggestions()">
        <datalist id="recipients-list"></datalist>
    </div>

    <div>
        <label id="lbl-rea">ü§î D≈Øvod</label>
        <input list="reasons-list" id="reason" placeholder="...">
        <datalist id="reasons-list"></datalist>
    </div>

    <div>
        <label id="lbl-sty">üé≠ Styl</label>
        <select id="style"></select>
    </div>

    <button class="btn-main" onclick="generuj()" id="btn-generate">
        <span id="btn-text">YES Generovat</span>
        <div class="loader" id="loader"></div>
    </button>

    <div id="vysledek">
        <div id="results-container"></div>
    </div>

    <button class="btn-vip" onclick="koupit()" id="btn-buy">
        <span>üëë Koupit Licenci (455 Kƒç)</span>
    </button>
</div>

<script>
    // --- 1. DEFINICE JAZYK≈Æ ---
    const languages = [
        { code: "cs", name: "üá®üáø ƒåe≈°tina" }, { code: "en_us", name: "üá∫üá∏ English (US)" }, { code: "de", name: "üá©üá™ Deutsch" },
        { code: "uk", name: "üá∫üá¶ –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞" }, { code: "sk", name: "üá∏üá∞ Slovenƒçina" }, { code: "pl", name: "üáµüá± Polski" },
        { code: "ru", name: "üá∑üá∫ –†—É—Å—Å–∫–∏–π" }, { code: "fr", name: "üá´üá∑ Fran√ßais" }, { code: "es", name: "üá™üá∏ Espa√±ol" },
        { code: "it", name: "üáÆüáπ Italiano" }, { code: "pt", name: "üáµüáπ Portugu√™s" }, { code: "zh", name: "üá®üá≥ ‰∏≠Êñá" },
        { code: "ja", name: "üáØüáµ Êó•Êú¨Ë™û" }, { code: "ko", name: "üá∞üá∑ ÌïúÍµ≠Ïñ¥" }, { code: "vi", name: "üáªüá≥ Ti·∫øng Vi·ªát" },
        { code: "tr", name: "üáπüá∑ T√ºrk√ße" }, { code: "ar", name: "üá∏üá¶ ÿßŸÑÿπÿ±ÿ®Ÿäÿ©" }, { code: "hi", name: "üáÆüá≥ ‡§π‡§ø‡§®‡•ç‡§¶‡•Ä" },
        { code: "th", name: "üáπüá≠ ‡πÑ‡∏ó‡∏¢" }, { code: "id", name: "üáÆüá© Indonesia" }, { code: "bn", name: "üáßüá© Bengali" },
        { code: "fil", name: "üáµüá≠ Filipino" }, { code: "fa", name: "üáÆüá∑ Persian" }
    ];

    // --- 2. KOMPLETN√ç P≈òEKLADY PRO V≈†ECHNY JAZYKY ---
    const t = {
        cs: {
            sub1: "Profesion√°ln√≠ gener√°tor omluv", sub2: "Tv≈Øj rychl√Ω r√°dce v kapse!",
            lblRec: "üë§ Komu?", lblRea: "ü§î D≈Øvod", lblSty: "üé≠ Styl", btnGen: "Generovat", btnBuy: "üëë Koupit Licenci (455 Kƒç)", phRec: "Vyberte nebo napi≈°te...", phRea: "Nap≈ô. zaspal jsem...",
            rec: ["≈†√©f", "Partner", "Uƒçitel", "Klient", "Kamar√°d", "Rodina", "Tch√Ωnƒõ", "Tch√°n"],
            sty: ["Profesion√°ln√≠", "Up≈ô√≠mn√°", "Kreativn√≠", "Struƒçn√°", "Dramatick√°"]
        },
        en_us: {
            sub1: "Professional AI Excuse Generator", sub2: "Your pocket advisor!",
            lblRec: "üë§ To Whom?", lblRea: "ü§î Reason", lblSty: "üé≠ Style", btnGen: "Generate", btnBuy: "üëë Buy License ($20)", phRec: "Select or type...", phRea: "E.g. Overslept...",
            rec: ["Boss", "Partner", "Teacher", "Client", "Friend", "Family", "Mother-in-law", "Father-in-law"],
            sty: ["Professional", "Sincere", "Creative", "Brief", "Dramatic"]
        },
        de: {
            sub1: "Profi-Ausredengenerator", sub2: "Ihr Taschenberater!",
            lblRec: "üë§ An wen?", lblRea: "ü§î Grund", lblSty: "üé≠ Stil", btnGen: "Generieren", btnBuy: "üëë Lizenz kaufen (18‚Ç¨)", phRec: "W√§hlen oder tippen...", phRea: "z.B. Verschlafen...",
            rec: ["Chef", "Partner", "Lehrer", "Kunde", "Freund", "Familie", "Schwiegermutter", "Schwiegervater"],
            sty: ["Professionell", "Aufrichtig", "Kreativ", "Kurz", "Dramatisch"]
        },
        uk: {
            sub1: "–ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤–∏–ø—Ä–∞–≤–¥–∞–Ω—å", sub2: "–í–∞—à –∫–∏—à–µ–Ω—å–∫–æ–≤–∏–π —Ä–∞–¥–Ω–∏–∫!",
            lblRec: "üë§ –ö–æ–º—É?", lblRea: "ü§î –ü—Ä–∏—á–∏–Ω–∞", lblSty: "üé≠ –°—Ç–∏–ª—å", btnGen: "–ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏", btnBuy: "üëë –ö—É–ø–∏—Ç–∏ –ª—ñ—Ü–µ–Ω–∑—ñ—é", phRec: "–í–∏–±–µ—Ä—ñ—Ç—å –∞–±–æ –Ω–∞–ø–∏—à—ñ—Ç—å...", phRea: "–ù–∞–ø—Ä. –ø—Ä–æ—Å–ø–∞–≤...",
            rec: ["–ë–æ—Å", "–ü–∞—Ä—Ç–Ω–µ—Ä", "–í—á–∏—Ç–µ–ª—å", "–ö–ª—ñ—î–Ω—Ç", "–î—Ä—É–≥", "–°—ñ–º'—è", "–¢–µ—â–∞/–°–≤–µ–∫—Ä—É—Ö–∞", "–¢–µ—Å—Ç—å/–°–≤–µ–∫–æ—Ä"],
            sty: ["–ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π", "–©–∏—Ä–∏–π", "–ö—Ä–µ–∞—Ç–∏–≤–Ω–∏–π", "–ö–æ—Ä–æ—Ç–∫–∏–π", "–î—Ä–∞–º–∞—Ç–∏—á–Ω–∏–π"]
        },
        sk: {
            sub1: "Profesion√°lny gener√°tor ospravedlnen√≠", sub2: "Tvoj r√Ωchly radca!",
            lblRec: "üë§ Komu?", lblRea: "ü§î D√¥vod", lblSty: "üé≠ ≈†t√Ωl", btnGen: "Generova≈•", btnBuy: "üëë K√∫pi≈• licenciu (18‚Ç¨)", phRec: "Vyberte alebo nap√≠≈°te...", phRea: "Napr. zaspal som...",
            rec: ["≈†√©f", "Partner", "Uƒçiteƒæ", "Klient", "Kamar√°t", "Rodina", "Svokra", "Svokor"],
            sty: ["Profesion√°lny", "√öprimn√Ω", "Kreat√≠vny", "Struƒçn√Ω", "Dramatick√Ω"]
        },
        pl: {
            sub1: "Profesjonalny generator wym√≥wek", sub2: "Tw√≥j kieszonkowy doradca!",
            lblRec: "üë§ Do kogo?", lblRea: "ü§î Pow√≥d", lblSty: "üé≠ Styl", btnGen: "Generuj", btnBuy: "üëë Kup licencjƒô", phRec: "Wybierz lub wpisz...", phRea: "Np. zaspa≈Çem...",
            rec: ["Szef", "Partner", "Nauczyciel", "Klient", "Przyjaciel", "Rodzina", "Te≈õciowa", "Te≈õƒá"],
            sty: ["Profesjonalny", "Szczery", "Kreatywny", "Zwiƒôz≈Çy", "Dramatyczny"]
        },
        ru: {
            sub1: "–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ–ø—Ä–∞–≤–¥–∞–Ω–∏–π", sub2: "–í–∞—à –∫–∞—Ä–º–∞–Ω–Ω—ã–π —Å–æ–≤–µ—Ç–Ω–∏–∫!",
            lblRec: "üë§ –ö–æ–º—É?", lblRea: "ü§î –ü—Ä–∏—á–∏–Ω–∞", lblSty: "üé≠ –°—Ç–∏–ª—å", btnGen: "–°–æ–∑–¥–∞—Ç—å", btnBuy: "üëë –ö—É–ø–∏—Ç—å –ª–∏—Ü–µ–Ω–∑–∏—é", phRec: "–í—ã–±–µ—Ä–∏—Ç–µ –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ...", phRea: "–ù–∞–ø—Ä. –ø—Ä–æ—Å–ø–∞–ª...",
            rec: ["–ë–æ—Å—Å", "–ü–∞—Ä—Ç–Ω–µ—Ä", "–£—á–∏—Ç–µ–ª—å", "–ö–ª–∏–µ–Ω—Ç", "–î—Ä—É–≥", "–°–µ–º—å—è", "–¢–µ—â–∞/–°–≤–µ–∫—Ä–æ–≤—å", "–¢–µ—Å—Ç—å/–°–≤–µ–∫—Ä"],
            sty: ["–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π", "–ò—Å–∫—Ä–µ–Ω–Ω–∏–π", "–ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π", "–ö—Ä–∞—Ç–∫–∏–π", "–î—Ä–∞–º–∞—Ç–∏—á–Ω—ã–π"]
        },
        fr: {
            sub1: "G√©n√©rateur d'excuses", sub2: "Votre conseiller de poche!",
            lblRec: "üë§ √Ä qui ?", lblRea: "ü§î Raison", lblSty: "üé≠ Style", btnGen: "G√©n√©rer", btnBuy: "üëë Acheter la licence", phRec: "S√©lectionnez ou tapez...", phRea: "Ex. Trop dormi...",
            rec: ["Patron", "Partenaire", "Professeur", "Client", "Ami", "Famille", "Belle-m√®re", "Beau-p√®re"],
            sty: ["Professionnel", "Sinc√®re", "Cr√©atif", "Bref", "Dramatique"]
        },
        es: {
            sub1: "Generador de excusas", sub2: "¬°Tu asesor de bolsillo!",
            lblRec: "üë§ ¬øA qui√©n?", lblRea: "ü§î Raz√≥n", lblSty: "üé≠ Estilo", btnGen: "Generar", btnBuy: "üëë Comprar licencia", phRec: "Selecciona o escribe...", phRea: "Ej. Me qued√© dormido...",
            rec: ["Jefe", "Pareja", "Profesor", "Cliente", "Amigo", "Familia", "Suegra", "Suegro"],
            sty: ["Profesional", "Sincero", "Creativo", "Breve", "Dram√°tico"]
        },
        it: {
            sub1: "Generatore di scuse", sub2: "Il tuo consulente tascabile!",
            lblRec: "üë§ A chi?", lblRea: "ü§î Motivo", lblSty: "üé≠ Stile", btnGen: "Generare", btnBuy: "üëë Compra licenza", phRec: "Seleziona o scrivi...", phRea: "Es. Ho dormito troppo...",
            rec: ["Capo", "Partner", "Insegnante", "Cliente", "Amico", "Famiglia", "Suocera", "Suocero"],
            sty: ["Professionale", "Sincero", "Creativo", "Breve", "Drammatico"]
        },
        pt: {
            sub1: "Gerador de desculpas", sub2: "Seu consultor de bolso!",
            lblRec: "üë§ Para quem?", lblRea: "ü§î Raz√£o", lblSty: "üé≠ Estilo", btnGen: "Gerar", btnBuy: "üëë Comprar licen√ßa", phRec: "Selecione ou digite...", phRea: "Ex. Dormi demais...",
            rec: ["Chefe", "Parceiro", "Professor", "Cliente", "Amigo", "Fam√≠lia", "Sogra", "Sogro"],
            sty: ["Profissional", "Sincero", "Criativo", "Breve", "Dram√°tico"]
        },
        zh: {
            sub1: "‰∏ì‰∏öÂÄüÂè£ÁîüÊàêÂô®", sub2: "ÊÇ®ÁöÑË¢ñÁèçÈ°æÈóÆÔºÅ",
            lblRec: "üë§ ÁªôË∞ÅÔºü", lblRea: "ü§î ÂéüÂõ†", lblSty: "üé≠ È£éÊ†º", btnGen: "ÁîüÊàê", btnBuy: "üëë Ë¥≠‰π∞ËÆ∏ÂèØËØÅ", phRec: "ÈÄâÊã©ÊàñËæìÂÖ•...", phRea: "‰æãÂ¶ÇÔºöÁù°ËøáÂ§¥‰∫Ü...",
            rec: ["ËÄÅÊùø", "‰º¥‰æ£", "ËÄÅÂ∏à", "ÂÆ¢Êà∑", "ÊúãÂèã", "ÂÆ∂‰∫∫", "Â≤≥ÊØç/Â©ÜÂ©Ü", "Â≤≥Áà∂/ÂÖ¨ÂÖ¨"],
            sty: ["‰∏ì‰∏ö", "ÁúüËØö", "ÂàõÊÑè", "ÁÆÄÊ¥Å", "ÊàèÂâßÊÄß"]
        },
        ja: {
            sub1: "„Éó„É≠„ÅÆË®Ä„ÅÑË®≥„Ç∏„Çß„Éç„É¨„Éº„Çø„Éº", sub2: "„ÅÇ„Å™„Åü„ÅÆ„Éù„Ç±„ÉÉ„Éà„Ç¢„Éâ„Éê„Ç§„Ç∂„ÉºÔºÅ",
            lblRec: "üë§ Ë™∞„Å´Ôºü", lblRea: "ü§î ÁêÜÁî±", lblSty: "üé≠ „Çπ„Çø„Ç§„É´", btnGen: "ÁîüÊàê", btnBuy: "üëë „É©„Ç§„Çª„É≥„ÇπË≥ºÂÖ•", phRec: "ÈÅ∏Êäû„Åæ„Åü„ÅØÂÖ•Âäõ...", phRea: "‰æãÔºöÂØùÂùä„Åó„Åæ„Åó„Åü...",
            rec: ["‰∏äÂè∏", "„Éë„Éº„Éà„Éä„Éº", "ÂÖàÁîü", "„ÇØ„É©„Ç§„Ç¢„É≥„Éà", "ÂèãÈÅî", "ÂÆ∂Êóè", "Áæ©ÊØç", "Áæ©Áà∂"],
            sty: ["„Éó„É≠„Éï„Çß„ÉÉ„Ç∑„Éß„Éä„É´", "Ë™†ÂÆü", "„ÇØ„É™„Ç®„Ç§„ÉÜ„Ç£„Éñ", "Á∞°ÊΩî", "„Éâ„É©„Éû„ÉÅ„ÉÉ„ÇØ"]
        },
        ko: {
            sub1: "Ï†ÑÎ¨∏ Î≥ÄÎ™Ö ÏÉùÏÑ±Í∏∞", sub2: "ÎãπÏã†Ïùò Ï£ºÎ®∏Îãà Ï°∞Ïñ∏Ïûê!",
            lblRec: "üë§ ÎàÑÍµ¨ÏóêÍ≤å?", lblRea: "ü§î Ïù¥Ïú†", lblSty: "üé≠ Ïä§ÌÉÄÏùº", btnGen: "ÏÉùÏÑ±", btnBuy: "üëë ÎùºÏù¥ÏÑºÏä§ Íµ¨Îß§", phRec: "ÏÑ†ÌÉùÌïòÍ±∞ÎÇò ÏûÖÎ†•...", phRea: "Ïòà: Îä¶Ïû†...",
            rec: ["ÏÉÅÏÇ¨", "ÌååÌä∏ÎÑà", "ÏÑ†ÏÉùÎãò", "Í≥†Í∞ù", "ÏπúÍµ¨", "Í∞ÄÏ°±", "Ïû•Î™®/ÏãúÏñ¥Î®∏Îãà", "Ïû•Ïù∏/ÏãúÏïÑÎ≤ÑÏßÄ"],
            sty: ["Ï†ÑÎ¨∏Ï†Å", "ÏßÑÏã¨", "Ï∞ΩÏùòÏ†Å", "Í∞ÑÍ≤∞", "ÎìúÎùºÎßàÌã±"]
        },
        tr: {
            sub1: "Profesyonel Bahane √úretici", sub2: "Cep danƒ±≈ümanƒ±nƒ±z!",
            lblRec: "üë§ Kime?", lblRea: "ü§î Sebep", lblSty: "üé≠ Tarz", btnGen: "Olu≈ütur", btnBuy: "üëë Lisans Satƒ±n Al", phRec: "Se√ßin veya yazƒ±n...", phRea: "√ñrn. Uyuyakaldƒ±m...",
            rec: ["Patron", "Partner", "√ñƒüretmen", "M√º≈üteri", "Arkada≈ü", "Aile", "Kayƒ±nvalide", "Kayƒ±npeder"],
            sty: ["Profesyonel", "Samimi", "Yaratƒ±cƒ±", "Kƒ±sa", "Dramatik"]
        },
        vi: {
            sub1: "Tr√¨nh t·∫°o l·ªùi b√†o ch·ªØa", sub2: "C·ªë v·∫•n b·ªè t√∫i c·ªßa b·∫°n!",
            lblRec: "üë§ Cho ai?", lblRea: "ü§î L√Ω do", lblSty: "üé≠ Phong c√°ch", btnGen: "T·∫°o", btnBuy: "üëë Mua gi·∫•y ph√©p", phRec: "Ch·ªçn ho·∫∑c nh·∫≠p...", phRea: "Vd: Ng·ªß qu√™n...",
            rec: ["S·∫øp", "Ng∆∞·ªùi y√™u", "Gi√°o vi√™n", "Kh√°ch h√†ng", "B·∫°n b√®", "Gia ƒë√¨nh", "M·∫π v·ª£/ch·ªìng", "B·ªë v·ª£/ch·ªìng"],
            sty: ["Chuy√™n nghi·ªáp", "Ch√¢n th√†nh", "S√°ng t·∫°o", "Ng·∫Øn g·ªçn", "K·ªãch t√≠nh"]
        },
        ar: {
            sub1: "ŸÖŸàŸÑÿØ ÿßŸÑÿ£ÿπÿ∞ÿßÿ± ÿßŸÑÿßÿ≠ÿ™ÿ±ÿßŸÅŸä", sub2: "ŸÖÿ≥ÿ™ÿ¥ÿßÿ±ŸÉ ÿßŸÑÿÆÿßÿµ!",
            lblRec: "üë§ ŸÑŸÖŸÜÿü", lblRea: "ü§î ÿßŸÑÿ≥ÿ®ÿ®", lblSty: "üé≠ ÿßŸÑÿ£ÿ≥ŸÑŸàÿ®", btnGen: "ÿ™ŸàŸÑŸäÿØ", btnBuy: "üëë ÿ¥ÿ±ÿßÿ° ÿßŸÑÿ™ÿ±ÿÆŸäÿµ", phRec: "ÿßÿÆÿ™ÿ± ÿ£Ÿà ÿßŸÉÿ™ÿ®...", phRea: "ŸÖÿ´ÿßŸÑ: ŸÜŸÖÿ™ ÿ∑ŸàŸäŸÑÿßŸã...",
            rec: ["ÿßŸÑŸÖÿØŸäÿ±", "ÿßŸÑÿ¥ÿ±ŸäŸÉ", "ÿßŸÑŸÖÿπŸÑŸÖ", "ÿßŸÑÿπŸÖŸäŸÑ", "ÿµÿØŸäŸÇ", "ÿßŸÑÿπÿßÿ¶ŸÑÿ©", "ÿßŸÑÿ≠ŸÖÿßÿ©", "ÿßŸÑÿ≠ŸÖŸà"],
            sty: ["ŸÖŸáŸÜŸä", "ÿµÿßÿØŸÇ", "ÿ•ÿ®ÿØÿßÿπŸä", "ŸÖŸàÿ¨ÿ≤", "ÿØÿ±ÿßŸÖŸä"]
        },
        hi: {
            sub1: "‡§™‡•á‡§∂‡•á‡§µ‡§∞ ‡§¨‡§π‡§æ‡§®‡§æ ‡§ú‡§®‡§∞‡•á‡§ü‡§∞", sub2: "‡§Ü‡§™‡§ï‡§æ ‡§™‡•â‡§ï‡•á‡§ü ‡§∏‡§≤‡§æ‡§π‡§ï‡§æ‡§∞!",
            lblRec: "üë§ ‡§ï‡§ø‡§∏‡•á?", lblRea: "ü§î ‡§ï‡§æ‡§∞‡§£", lblSty: "üé≠ ‡§∂‡•à‡§≤‡•Ä", btnGen: "‡§â‡§§‡•ç‡§™‡§®‡•ç‡§® ‡§ï‡§∞‡•á‡§Ç", btnBuy: "üëë ‡§≤‡§æ‡§á‡§∏‡•á‡§Ç‡§∏ ‡§ñ‡§∞‡•Ä‡§¶‡•á‡§Ç", phRec: "‡§ö‡•Å‡§®‡•á‡§Ç ‡§Ø‡§æ ‡§ü‡§æ‡§á‡§™ ‡§ï‡§∞‡•á‡§Ç...", phRea: "‡§ú‡•à‡§∏‡•á: ‡§¶‡•á‡§∞ ‡§§‡§ï ‡§∏‡•ã ‡§ó‡§Ø‡§æ...",
            rec: ["‡§¨‡•â‡§∏", "‡§∏‡§æ‡§•‡•Ä", "‡§∂‡§ø‡§ï‡•ç‡§∑‡§ï", "‡§ó‡•ç‡§∞‡§æ‡§π‡§ï", "‡§¶‡•ã‡§∏‡•ç‡§§", "‡§™‡§∞‡§ø‡§µ‡§æ‡§∞", "‡§∏‡§æ‡§∏", "‡§∏‡§∏‡•Å‡§∞"],
            sty: ["‡§™‡•á‡§∂‡•á‡§µ‡§∞", "‡§à‡§Æ‡§æ‡§®‡§¶‡§æ‡§∞", "‡§∞‡§ö‡§®‡§æ‡§§‡•ç‡§Æ‡§ï", "‡§∏‡§Ç‡§ï‡•ç‡§∑‡§ø‡§™‡•ç‡§§", "‡§®‡§æ‡§ü‡§ï‡•Ä‡§Ø"]
        },
        th: {
            sub1: "‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡πÅ‡∏Å‡πâ‡∏ï‡∏±‡∏ß", sub2: "‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì!",
            lblRec: "üë§ ‡∏ñ‡∏∂‡∏á‡πÉ‡∏Ñ‡∏£?", lblRea: "ü§î ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•", lblSty: "üé≠ ‡∏™‡πÑ‡∏ï‡∏•‡πå", btnGen: "‡∏™‡∏£‡πâ‡∏≤‡∏á", btnBuy: "üëë ‡∏ã‡∏∑‡πâ‡∏≠‡πÉ‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï", phRec: "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏¥‡∏°‡∏û‡πå...", phRea: "‡πÄ‡∏ä‡πà‡∏ô ‡∏ï‡∏∑‡πà‡∏ô‡∏™‡∏≤‡∏¢...",
            rec: ["‡πÄ‡∏à‡πâ‡∏≤‡∏ô‡∏≤‡∏¢", "‡πÅ‡∏ü‡∏ô", "‡∏Ñ‡∏£‡∏π", "‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤", "‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô", "‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß", "‡πÅ‡∏°‡πà‡∏¢‡∏≤‡∏¢", "‡∏û‡πà‡∏≠‡∏ï‡∏≤"],
            sty: ["‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û", "‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏à", "‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå", "‡∏™‡∏±‡πâ‡∏ô‡∏Å‡∏£‡∏∞‡∏ä‡∏±‡∏ö", "‡∏î‡∏£‡∏≤‡∏°‡πà‡∏≤"]
        },
        id: {
            sub1: "Pembuat Alasan Profesional", sub2: "Penasihat saku Anda!",
            lblRec: "üë§ Kepada siapa?", lblRea: "ü§î Alasan", lblSty: "üé≠ Gaya", btnGen: "Buat", btnBuy: "üëë Beli Lisensi", phRec: "Pilih atau ketik...", phRea: "Cth. Ketiduran...",
            rec: ["Bos", "Pasangan", "Guru", "Klien", "Teman", "Keluarga", "Ibu mertua", "Ayah mertua"],
            sty: ["Profesional", "Tulus", "Kreatif", "Singkat", "Dramatis"]
        },
        bn: {
            sub1: "‡¶™‡ßá‡¶∂‡¶æ‡¶¶‡¶æ‡¶∞ ‡¶Ö‡¶ú‡ßÅ‡¶π‡¶æ‡¶§ ‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶ü‡¶∞", sub2: "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶ï‡ßá‡¶ü ‡¶â‡¶™‡¶¶‡ßá‡¶∑‡ßç‡¶ü‡¶æ!",
            lblRec: "üë§ ‡¶ï‡¶æ‡¶ï‡ßá?", lblRea: "ü§î ‡¶ï‡¶æ‡¶∞‡¶£", lblSty: "üé≠ ‡¶ß‡¶∞‡¶£", btnGen: "‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®", btnBuy: "üëë ‡¶≤‡¶æ‡¶á‡¶∏‡ßá‡¶®‡ßç‡¶∏ ‡¶ï‡¶ø‡¶®‡ßÅ‡¶®", phRec: "‡¶¨‡¶æ‡¶õ‡ßÅ‡¶® ‡¶¨‡¶æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®...", phRea: "‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶ò‡ßÅ‡¶Æ ‡¶•‡ßá‡¶ï‡ßá ‡¶â‡¶†‡¶§‡ßá ‡¶¶‡ßá‡¶∞‡¶ø...",
            rec: ["‡¶¨‡¶∏", "‡¶∏‡¶ô‡ßç‡¶ó‡ßÄ", "‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï", "‡¶ï‡ßç‡¶≤‡¶æ‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü", "‡¶¨‡¶®‡ßç‡¶ß‡ßÅ", "‡¶™‡¶∞‡¶ø‡¶¨‡¶æ‡¶∞", "‡¶∂‡¶æ‡¶∂‡ßÅ‡¶°‡¶º‡¶ø", "‡¶∂‡ßç‡¶¨‡¶∂‡ßÅ‡¶∞"],
            sty: ["‡¶™‡ßá‡¶∂‡¶æ‡¶¶‡¶æ‡¶∞", "‡¶Ü‡¶®‡ßç‡¶§‡¶∞‡¶ø‡¶ï", "‡¶∏‡ßÉ‡¶ú‡¶®‡¶∂‡ßÄ‡¶≤", "‡¶∏‡¶Ç‡¶ï‡ßç‡¶∑‡¶ø‡¶™‡ßç‡¶§", "‡¶®‡¶æ‡¶ü‡¶ï‡ßÄ‡¶Ø‡¶º"]
        },
        fil: {
            sub1: "Professional Excuse Generator", sub2: "Ang iyong pocket advisor!",
            lblRec: "üë§ Kanino?", lblRea: "ü§î Dahilan", lblSty: "üé≠ Estilo", btnGen: "Bumuo", btnBuy: "üëë Bumili ng Lisensya", phRec: "Pumili o mag-type...", phRea: "Hal. Nakatulog...",
            rec: ["Boss", "Partner", "Guro", "Kliyente", "Kaibigan", "Pamilya", "Biyenan (Babae)", "Biyenan (Lalaki)"],
            sty: ["Propesyonal", "Taos-puso", "Malikhain", "Maikli", "Madrama"]
        },
        fa: {
            sub1: "ÿ™ŸàŸÑ€åÿØ ⁄©ŸÜŸÜÿØŸá ÿ®ŸáÿßŸÜŸá ÿ≠ÿ±ŸÅŸá‚Äåÿß€å", sub2: "ŸÖÿ¥ÿßŸàÿ± ÿ¨€åÿ®€å ÿ¥ŸÖÿß!",
            lblRec: "üë§ ÿ®Ÿá ⁄ÜŸá ⁄©ÿ≥€åÿü", lblRea: "ü§î ÿØŸÑ€åŸÑ", lblSty: "üé≠ ÿ≥ÿ®⁄©", btnGen: "ÿ™ŸàŸÑ€åÿØ ⁄©ŸÜ€åÿØ", btnBuy: "üëë ÿÆÿ±€åÿØ ŸÑÿß€åÿ≥ŸÜÿ≥", phRec: "ÿßŸÜÿ™ÿÆÿßÿ® ⁄©ŸÜ€åÿØ €åÿß ÿ®ŸÜŸà€åÿ≥€åÿØ...", phRea: "ŸÖÿ´ÿßŸÑ: ÿÆŸàÿßÿ® ŸÖÿßŸÜÿØŸÖ...",
            rec: ["ÿ±ÿ¶€åÿ≥", "ŸáŸÖÿ≥ÿ±", "ŸÖÿπŸÑŸÖ", "ŸÖÿ¥ÿ™ÿ±€å", "ÿØŸàÿ≥ÿ™", "ÿÆÿßŸÜŸàÿßÿØŸá", "ŸÖÿßÿØÿ± ÿ≤ŸÜ/ÿ¥ŸàŸáÿ±", "ŸæÿØÿ± ÿ≤ŸÜ/ÿ¥ŸàŸáÿ±"],
            sty: ["ÿ≠ÿ±ŸÅŸá‚Äåÿß€å", "ÿµÿßÿØŸÇÿßŸÜŸá", "ÿÆŸÑÿßŸÇÿßŸÜŸá", "ŸÖÿÆÿ™ÿµÿ±", "ÿØÿ±ÿßŸÖÿßÿ™€å⁄©"]
        }
    };

    // --- LOGIKA A FUNKCE ---
    function toggleTheme() {
        const body = document.body;
        const btn = document.getElementById('theme-btn');
        if (body.classList.contains('dark-mode')) {
            body.classList.remove('dark-mode');
            btn.innerText = "üåô";
            localStorage.setItem('theme', 'light');
        } else {
            body.classList.add('dark-mode');
            btn.innerText = "‚òÄÔ∏è";
            localStorage.setItem('theme', 'dark');
        }
    }

    const LS = document.getElementById('language-select');
    languages.forEach(l => { const o = document.createElement('option'); o.value = l.code; o.innerText = l.name; LS.appendChild(o); });

    function changeLanguage() {
        const l = LS.value;
        const dict = t[l] || t['en_us']; // Nyn√≠ v≈ædy najde spr√°vn√Ω slovn√≠k
        
        document.getElementById('sub1').innerText = dict.sub1;
        document.getElementById('sub2').innerText = dict.sub2;
        document.getElementById('lbl-rec').innerText = dict.lblRec;
        document.getElementById('lbl-rea').innerText = dict.lblRea;
        document.getElementById('lbl-sty').innerText = dict.lblSty;
        document.getElementById('btn-text').innerText = "YES " + dict.btnGen;
        document.getElementById('btn-buy').querySelector('span').innerText = dict.btnBuy;
        document.getElementById('recipient').placeholder = dict.phRec;
        document.getElementById('reason').placeholder = dict.phRea;
        
        // Aktualizace seznamu 'Komu'
        const recList = document.getElementById('recipients-list');
        recList.innerHTML = "";
        dict.rec.forEach(txt => {
            const o = document.createElement('option'); o.value = txt; recList.appendChild(o);
        });

        // Aktualizace seznamu 'Styl'
        const stySel = document.getElementById('style');
        stySel.innerHTML = "";
        dict.sty.forEach(txt => {
            const o = document.createElement('option'); o.value = txt; o.text = txt; stySel.add(o);
        });

        // Vymazat inputy
        document.getElementById('recipient').value = "";
        document.getElementById('reason').value = "";
    }

    function updateSuggestions() {
        // Jednoduch√Ω fallback pro na≈°ept√°vaƒç, aby fungoval univerz√°lnƒõ
        const dl = document.getElementById('reasons-list');
        dl.innerHTML = '';
        const commonReasons = ["Nest√≠h√°m / Late", "Nemoc / Sick", "Z√°cpa / Traffic", "Rodina / Family"];
        commonReasons.forEach(s => { const o = document.createElement('option'); o.value = s; dl.appendChild(o); });
    }

    let clicks = 0;
    async function generuj() {
        clicks++;
        if (clicks >= 3) {
            koupit();
            return;
        }

        const bt = document.getElementById('btn-text'); const ld = document.getElementById('loader');
        bt.style.display = 'none'; ld.style.display = 'block'; document.getElementById('vysledek').style.display = 'none';

        try {
            const res = await fetch('/api/generovat', {
                method: 'POST', headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    jazyk: LS.options[LS.selectedIndex].text,
                    adresat: document.getElementById('recipient').value || "Nezn√°m√Ω",
                    kategorie: document.getElementById('reason').value || "D≈Øvod neuveden",
                    styl: document.getElementById('style').value,
                    format: "email"
                })
            });
            const data = await res.json();
            document.getElementById('results-container').innerHTML = data.variants.map(v => `<div class="result-card">${v}</div>`).join('');
            document.getElementById('vysledek').style.display = 'block';
        } catch (e) { 
            alert("Connection Error / Chyba spojen√≠"); 
        }
        bt.style.display = 'block'; ld.style.display = 'none';
    }

    function koupit() {
        // !!! ZDE VLO≈Ω SV≈ÆJ STRIPE ODKAZ !!!
        window.location.href = 'https://buy.stripe.com/6oEg1...'; 
    }

    window.onload = function() {
        if (localStorage.getItem('theme') === 'light') {
            document.body.classList.remove('dark-mode');
            document.getElementById('theme-btn').innerText = "üåô";
        }
        changeLanguage();
        if (new URLSearchParams(window.location.search).get('status') === 'success') {
            alert("YES Genius Unlocked! üëë");
            document.getElementById('btn-buy').style.display = 'none';
            clicks = -9999;
        }
    };
</script>
</body>
</html>
